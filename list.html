<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToDO List</title>
    <link rel="stylesheet" href="todo.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js  "></script>
   <!-- <script src=" https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"></script> -->

    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

    <!-- CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

<!-- jQuery and JS bundle w/ Popper.js -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

<script type="text/javascript" src="todo.js"></script>



</head>

<body>
    
<header>
    <div class="nav_bar">
        <nav class="navbar navbar-expand-lg navbar-dark ">
            
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                  <a class="nav-link" href="#">ToDo List <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="index.html">LogOut <span class="sr-only">(current)</span></a>
                  </li>
              </ul>                           
            </div>
          </nav>
        </div>
    </header>
            
    
<br>
        <div class="contain" >
            <table>
                <thead style="color: rgb(32, 199, 96); font-size: larger;font-weight: bolder;">
                    <td>ID</td>
                    <td>__Title__</td>
                    <!-- <td >Completion</td> -->
                    
                </thead>
                <tbody id="result_area" style="color: antiquewhite;background-color:none;font-weight: bold;"> 
                                   </tbody>

            </table>

        <script>
            var count = 0;
            var xhr =new XMLHttpRequest();
            xhr.open("get","https://jsonplaceholder.typicode.com/todos");
            xhr.send();
            var html_content="";
            xhr.onreadystatechange=function(){
                if(xhr.readyState==4){
                    if(xhr.status==200){
                        var result_data=JSON.parse(xhr.responseText);
                        for(i=0;i<result_data.length;i++){
                            var current_data=result_data[i];
                            if(current_data.completed){
                                html_content=html_content+"<tr> <td>"+current_data.id+"</td> <td>"+current_data.title+"</td>  <td> <input type=checkbox id = "+current_data.id +" checked=true disabled=true> </td> </tr>"
                                            
                            }
                            else{
                                html_content=html_content+"<tr> <td>"+current_data.id+"</td> <td>"+current_data.title+"</td>  <td> <input type=checkbox id = "+current_data.id +">  </td> </tr>"
                                                    
                            }
                            document.getElementById("result_area").innerHTML=html_content;
                        
                            }
                        
                    }
                    else{
                        alert("Error");
                    }
                    

                    // document.addEventListener("DOMContentLoaded", function (event) {
   console.log("hello")
    var checkboxes = document.querySelectorAll("input[type=checkbox]");

    checkboxes.forEach(function(checkbox) {
    checkbox.addEventListener('change', function(eve) {console.table(eve)
        if(eve.target.checked==true){
            console.log('ticked');
            eve.target.disabled=true;
            count++;
            if(count==5){
                new Promise((resolve) =>
                alert("You ticked 5"));
            }
        }
        else{
            console.log('unticked');
        }
    })
})}

                }
            
        </script>

        </div>










    

</body>
</html>